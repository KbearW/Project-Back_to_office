{% extends 'base.html' %}
{% block head %}
<script src='https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.js'></script>
<link href='https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.css' rel='stylesheet' />
{% endblock %}


{% block title %}Sample Mapping{% endblock %}

{% block body %}

<h1>test</h1>
<div id='map' style='width: 400px; height: 300px;'></div>
<script>
  mapboxgl.accessToken = 'pk.eyJ1IjoiYmVhbmJhZzczOCIsImEiOiJja29rZ3d0aGIwMDh3MnBtMWp6dGcwMHVvIn0.prLY8xe96YLzfR5rBc8x3g';
  var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v11',
    center: [-96, 37.8],
    zoom: 2
  });

  map.on('load', function () {
    // var marker1 = new mapboxgl.Marker()
    //     .setLngLat([-74.014019, 40.709831])
    //     .addTo(map);
    // new mapboxgl.Marker()0
    //     .setLngLat([-122.014019, 37.4810185])
    //     .addTo(map);

    {% for coordinate in coordinates %}

    new mapboxgl.Marker()
        .setLngLat([{{coordinate[0]}}, {{coordinate[1]}}])
        .addTo(map);
          
    {% endfor %}
  }
  );


</script>

{% endblock %}

